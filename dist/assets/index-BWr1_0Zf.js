(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var e=100,t=3,n=20,r=2*Math.PI,i=document.querySelector(`#out`),a=i.getContext(`2d`),{width:o,height:s}=i,c=15,l=0,u=e,d=5,f=-.5,p=.5,m=(o-2*c)/(u-l),h=c-m*l,g=e=>m*e+h,_=(s-2*d)/(p-f),v=d-_*f,y=e=>_*-e+v;function b(e,t,n,r){a.beginPath(),a.moveTo(g(e),y(t)),a.lineTo(g(n),y(r)),a.stroke()}function x(e,n){a.beginPath(),a.arc(g(e),y(n),t,0,r),a.fill()}var S=document.querySelector(`#numerator`),C=document.querySelector(`#numerator-out`);S?.addEventListener(`input`,()=>C.value=S.value),S.value=C.value=`5`;var w=document.querySelector(`#denominator`),T=document.querySelector(`#denominator-out`);w?.addEventListener(`input`,()=>T.value=w.value),w.value=T.value=`3`;var E=document.querySelector(`#strands`),D=document.querySelector(`#strands-out`);E?.addEventListener(`input`,()=>D.value=E.value===`0`?`-`:E.value),E.value=`0`,D.value=`-`;var O=document.querySelector(`#abs`);O.checked=!1;var k=document.querySelector(`#in-steps`);k.checked=!0;var A=document.querySelector(`#ratio`),j=document.querySelector(`#interval-in-octaves`),M=document.querySelector(`#interval-times-strands`);function N(){a.strokeStyle=`#888`,a.fillStyle=`#000`,a.lineWidth=.5,b(l,f,u,f),b(l,0,u,0),b(l,p,u,p),b(l,f,l,p),a.font=`10px sans`;for(let e=l+10;e<=u;e+=10)b(e,-.02,e,.02),a.fillText(e.toString(),g(e)-5,y(-.05));if(k.checked)for(let e of[f,0,p])a.fillText(e.toString(),g(0),y(e)+5);else for(let e=-600/n;e<=600/n;e+=200/n)a.fillText(e.toString()+`ct`,g(0),y(e*n/1200)+5)}function P(){let t=Number.parseInt(S.value)/Number.parseInt(w.value),r=Math.log2(t),i=Number.parseInt(E.value),o=Math.max(1,i),s=O.checked,c=k.checked;A.value=t.toString(),j.value=r.toString(),M.value=i?(r*o).toString():`-`,a.lineWidth=1;for(let t=0;t<o;t++){a.strokeStyle=a.fillStyle=i?`hsl(${t/o}turn 100% 50%)`:`#000`;let l=0,u=0;for(let a=t;a<=e;a+=o){if(a===0)continue;let e=r*a,t=e-Math.round(e);s&&(t=Math.abs(t)),c||(t=t/a*n),x(a,t),i&&(l>0&&b(l,u,a,t),[l,u]=[a,t])}}}for(let e of[S,w,E,O,k])e.addEventListener(`input`,()=>{a.clearRect(0,0,o,s),N(),P()});N(),P();